---
title: ç»™ GitHub commit åŠ ä¸ªå°ç»¿æ ‡
toc: true
comments: true
popular_posts: false
mathjax: true
date: 2020-06-26 19:11:12
tags: [GPG, åŠ å¯†, éšç§]
categories: Git
---

æœ€è¿‘ä¸€æ³¢é‡è£…ç³»ç»Ÿå•¥éƒ½æ²¡äº†ï¼Œæœ€å¸¸ç”¨çš„ Git é…ç½®è‚¯å®šå¾—å®‰æ’å›æ¥çš„ã€‚è®°å¾—ä¹‹å‰ç»™ git çš„ commit åŠ äº†ä¸ªç­¾åï¼Œå›æƒ³ä¸‹ä¸ºä»€ä¹ˆè¦ç»™ commit åšä¸‹ç­¾åï¼Ÿå› ä¸ºå®ƒèƒ½è®© GitHub çš„ commit å†å²æ›´å¸…ï¼Ÿçœ‹ä¸‹åŠ ç­¾åä¹‹å‰æ˜¯æ€ä¹ˆæ ·çš„ï¼š

{% gallery %}

![å¯¹commitè¿›è¡Œç­¾åå‰](https://s1.ax1x.com/2020/06/26/NstacQ.png)

{% endgallery %}

<!-- more -->

å†çœ‹ä¸‹å¯¹ commit ç­¾ååæ˜¯æ€ä¹ˆæ ·çš„ï¼š

{% gallery %}

![å¯¹commitè¿›è¡Œç­¾åå](https://s1.ax1x.com/2020/06/26/Nstg9U.png)

{% endgallery %}

è¿™ä¹ˆä¸€å¯¹æ¯”ï¼Œæ˜¯æ›´å¸…äº†ï¼ä½†æˆ‘å¥½åƒä¸æ˜¯å› ä¸ºè¿™çš„æ‰åšçš„ã€‚æˆ‘æ˜¯ä¸ºäº†æ›´å¥½çš„å»æ··**å¼€æºé¡¹ç›®**åšçš„ï¼Œè¿™ä¸ªç»¿æ ‡èƒ½æ›´å¥½çš„è¯æ˜æˆ‘çš„èº«ä»½ï¼ï¼ï¼ï¼ˆå‡è£…æˆ‘å¾ˆä¸“ä¸šï¼Œ2333~ï¼‰ã€‚ä½¿ç”¨è¿‡ Git çš„åŒå­¦åº”è¯¥éƒ½æ™“å¾—ï¼Œæˆ‘ä»¬çš„æäº¤ä½œè€…ä¿¡æ¯æ˜¯å¯ä»¥è‡ªå·±è®¾ç½®çš„ï¼ˆè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»–äººèº«ä»½ä¿¡æ¯ï¼‰ï¼Œå¦‚ä¸‹ï¼š

```bash
$ git config user.name "tester"
$ git config user.email "gg@qq.com"
```

{% gallery %}
![å†’ç”¨ä½œè€…ä¿¡æ¯](https://s1.ax1x.com/2020/06/26/NsOPv6.png)
{% endgallery %}

æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ˜¯å¯ä»¥ push åˆ° GitHub çš„[æ²¡æœ‰å°ç»¿æ ‡è€Œå·²]ã€‚è¿™çœ‹èµ·æ¥å°±ä¸å¤ªå¥½ï¼Œå¾—è®© GitHub è¯æ˜ä¸‹è‡ªå·±å¾—èº«ä»½æ‰è¡Œï¼Œä»å®˜æ–¹æ–‡æ¡£å¯ä»¥çœ‹åˆ°ï¼Œ GitHub æä¾›äº†ä¸€ç§ä½¿ç”¨ GPG çš„æ–¹å¼å¯ä»¥è®©æˆ‘ä»¬çš„ commit â€œæˆ´â€ä¸Šå°ç»¿æ ‡ã€‚

å¿˜äº†å½“åˆæ˜¯æ€ä¹ˆæ“ä½œçš„äº†ï¼Œåœ¨ Windows ä¸‹æ“ä½œè²Œä¼¼è¿˜æŒºéº»çƒ¦çš„ï¼Œè¶æ­¤æ‹ä¸€ä¸‹è¿‡ç¨‹ï¼Œè¶æœºæ°´ç¯‡æ–‡ç« ã€‚

>GNU Privacy Guardï¼ˆGnuPGæˆ–GPGï¼‰æ˜¯ä¸€ä¸ªå¯†ç å­¦è½¯ä»¶ï¼Œç”¨äºåŠ å¯†ã€ç­¾åé€šä¿¡å†…å®¹åŠç®¡ç†éå¯¹ç§°å¯†ç å­¦çš„å¯†é’¥ã€‚

## ç”Ÿæˆ GPG å¯†é’¥å¯¹

ç¬¬ä¸€æ­¥è‚¯å®šå°±æ˜¯é€šè¿‡ GPG ç”Ÿæˆå¯†é’¥å¯¹äº†ã€‚è¿™æ—¶å€™éœ€è¦åˆ°ä¸€ä¸ª GnuPG è½¯ä»¶ï¼ŒOKï¼Œå»ä¸‹è½½ï¼š[ğŸ”GnuPG](https://www.gnupg.org/index.html)ã€‚å…¶å® Git fot windows è‡ªå¸¦ä¸€ä¸ª gpg å‘½ä»¤è¡Œç¨‹åºï¼Œä½†æ˜¯å‘½ä»¤è¡Œç”¨å¤šäº†ï¼Œè¿˜æ˜¯ä¸Š GUI æ„‰å¿«ç‚¹å§ï¼Œæˆ‘ä»¬é€‰æ‹©ä½¿ç”¨å¸¦ GUI çš„ [Gpg4winğŸ”—](https://gpg4win.org/get-gpg4win.html)ã€‚

![Gpg4winä¸‹è½½](https://s1.ax1x.com/2020/06/26/Ns63HU.png)

æˆ‘ä»¬é€šè¿‡å…¨å®¶æ¡¶è½¯ä»¶ä¹‹ Kleopatra æ–°å»ºç«‹ä¸€å¯¹å¯†é’¥ï¼Œåå­—ä¸º GitHub ç”¨æˆ·åï¼Œé‚®ç®±ä¸º GitHub çš„æ³¨å†Œé‚®ç®±ï¼ˆä½¿ç”¨ 4096 bitsçš„å¯†é’¥ï¼‰ï¼š

![Kleopatraæ–°å»ºå¯†é’¥å¯¹](https://s1.ax1x.com/2020/06/26/NscXJH.png)


![4096 bitså¯†é’¥](https://s1.ax1x.com/2020/06/26/NsgnO0.png)

è®¾ç½® passphrase ï¼ˆé€šè¡Œå£ä»¤ï¼‰æ¥ä¿æŠ¤æˆ‘ä»¬çš„å¯†é’¥å¯¹ï¼Œæ¯æ¬¡ç­¾åéƒ½ä¼šç”¨å®ƒåˆ°ã€‚ï¼ˆä¹Ÿå¯ä»¥ä¸è®¾ç½®ï¼Œä¸ç”¨å£ä»¤éªŒè¯å°±å¯ä»¥ç›´æ¥ä½¿ç”¨å¯†é’¥ï¼‰

![è®¾ç½®passphrase](https://s1.ax1x.com/2020/06/26/Ns2R29.png)

å¥½äº†ï¼Œå¯†é’¥å¯¹ç”Ÿæˆå®Œæ¯•ã€‚ä¸‹ä¸€æ­¥ï¼Œå°±æ˜¯æŠŠæŠŠå…¬é’¥æ”¾åˆ° GitHub ä¸Šï¼Œè®© GitHub å¯¹æˆ‘ä»¬çš„æäº¤è¿›è¡ŒéªŒè¯ï¼Œåˆ¤æ–­æ˜¯å¦è¯¥ç»™ commit â€œæˆ´â€ä¸Šå°ç»¿æ ‡ã€‚[è·å–å…¬é’¥ï¼šé¼ æ ‡å³é”®->ç»†èŠ‚->å¯¼å‡º]ã€[GitHub æ·»åŠ å…¬é’¥ï¼šSettings->SSH and GPG keys]ã€‚

![æ‹¿åˆ°å…¬é’¥](https://s1.ax1x.com/2020/06/26/NsW1k8.png)

![GitHubä¸Šæ·»åŠ å…¬é’¥](https://s1.ax1x.com/2020/06/26/NsWbjA.png)

ä¸‹ä¸€æ­¥å°±æ˜¯å¼€å¯ Git æäº¤ç­¾åã€‚

## å¯ç”¨ Git æäº¤ç­¾å

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦è®© Git çŸ¥é“ gpg çš„å¯æ‰§è¡Œç¨‹åºåœ¨å“ªé‡Œï¼Ÿgpg çš„å¯æ‰§è¡Œç¨‹åºä½äº[Gpg4winğŸ”—](https://gpg4win.org/get-gpg4win.html)åŒçº§ç›®å½•ä¸‹çš„`GnuPG/bin`ä¸­ï¼ˆGnuPG æ˜¯ Gpg4win ç»„ä»¶ä¹‹ä¸€ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š

```bash
$ git config --global gpg.program <path_to_gpg>
```

æˆ‘çš„è®¾ç½®å¦‚ä¸‹ï¼š

```bash
$ where gpg
E:\Git\usr\bin\gpg.exe  # è¿™ä¸ªæ˜¯ Git for windows è‡ªå¸¦çš„
E:\GnuPG\bin\gpg.exe    # è¿™ä¸ªæ‰æ˜¯æˆ‘ä»¬è¦ç”¨çš„
$ git config --global gpg.program "E:\GnuPG\bin\gpg.exe"
```

ç„¶åæ¯æ¬¡`git commit`æ—¶ï¼ŒåŠ ä¸Š`-S`å³å¯å¯ç”¨ç­¾åã€‚

![åŠ ä¸ª-Så‚æ•°å¯ç”¨ç­¾å](https://s1.ax1x.com/2020/06/26/NsbMvT.png)

æ¯æ¬¡éƒ½è¦å¤šæ‰“ä¸ªå‚æ•°å¤šéº»çƒ¦ï¼Œæˆ‘ä»¬é€šè¿‡å¦‚ä¸‹é…ç½®è®© Git é»˜è®¤å¯ç”¨ GPG ç­¾åï¼š

```bash
$ git config --global commit.gpgsign true
```

æœ€åæˆ‘ä»¬`git push`ä¸€ä¸‹çœ‹çœ‹æœ‰æ²¡æœ‰æ•ˆæœã€‚[https://github.com/yeshan333/anonymous-git-commit/commits/master](https://github.com/yeshan333/anonymous-git-commit/commits/master)

![æ•ˆæœé¢„è§ˆ](https://s1.ax1x.com/2020/06/26/NsqndH.png)

æ²¡é—®é¢˜ï¼Œæ”¶å·¥äº†ã€‚æˆ‘çš„ Git å…¨å±€é…ç½®å¦‚ä¸‹ï¼š

```bash
$ cat ~/.gitconfig
[user]
        name = yeshan333
        email = 1329441308@qq.com
[gpg]
        program = E:\\GnuPG\\bin\\gpg.exe
[commit]
        gpgsign = true
```

## å‚è€ƒ

- [GunPG](https://zh.wikipedia.org/wiki/GnuPG)
- [GitHub - Signing commits](https://help.github.com/en/github/authenticating-to-github/signing-commits)
- [ç»™ä½ çš„ Git commit åŠ ä¸Šç»¿å‹¾ - ä¸€ä¸ªç®€å•ä½†å¾ˆå¤šäººæ²¡æ³¨æ„çš„ç»†èŠ‚](https://frostming.com/2019/11-25/git-commit-sign)